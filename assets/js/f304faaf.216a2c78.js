"use strict";(self.webpackChunksaga_docs=self.webpackChunksaga_docs||[]).push([[587],{3905:function(e,t,o){o.d(t,{Zo:function(){return g},kt:function(){return c}});var n=o(7294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var s=n.createContext({}),i=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},g=function(e){var t=i(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,g=p(e,["components","mdxType","originalType","parentName"]),u=i(o),c=a,m=u["".concat(s,".").concat(c)]||u[c]||d[c]||r;return o?n.createElement(m,l(l({ref:t},g),{},{components:o})):n.createElement(m,l({ref:t},g))}));function c(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,l=new Array(r);l[0]=u;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,l[1]=p;for(var i=2;i<r;i++)l[i]=o[i];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},6650:function(e,t,o){o.r(t),o.d(t,{assets:function(){return g},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return p},metadata:function(){return i},toc:function(){return d}});var n=o(7462),a=o(3366),r=(o(7294),o(3905)),l=["components"],p={},s="Sette opp Google Cloud SDK",i={unversionedId:"google-cloud-platform/installere-gcloud",id:"google-cloud-platform/installere-gcloud",title:"Sette opp Google Cloud SDK",description:"Noen ganger er det \xf8nskelig \xe5 kj\xf8re kommandoer mot tjenester hos GCP fra lokal",source:"@site/docs/02-google-cloud-platform/02-installere-gcloud.md",sourceDirName:"02-google-cloud-platform",slug:"/google-cloud-platform/installere-gcloud",permalink:"/docs-public/google-cloud-platform/installere-gcloud",editUrl:"https://github.com/svvsaga/docs-public/edit/main/docs/02-google-cloud-platform/02-installere-gcloud.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Kom i gang",permalink:"/docs-public/google-cloud-platform/kom-i-gang"},next:{title:"Analyse i BigQuery",permalink:"/docs-public/bigquery/"}},g={},d=[{value:"Hvordan sette opp <code>gcloud</code>",id:"hvordan-sette-opp-gcloud",level:2},{value:"Hvordan sette opp <code>gcloud</code> med WSL i VDI",id:"hvordan-sette-opp-gcloud-med-wsl-i-vdi",level:2},{value:"Eksempel p\xe5 bruk av Google Cloud SDK kommandolinjeverkt\xf8y",id:"eksempel-p\xe5-bruk-av-google-cloud-sdk-kommandolinjeverkt\xf8y",level:2}],u={toc:d};function c(e){var t=e.components,o=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"sette-opp-google-cloud-sdk"},"Sette opp Google Cloud SDK"),(0,r.kt)("p",null,"Noen ganger er det \xf8nskelig \xe5 kj\xf8re kommandoer mot tjenester hos GCP fra lokal\nmaskin eller fra en VDI med WSL. Da kan det v\xe6re kjekt \xe5 installere Google Cloud\nSDK, og dra nytte av kommandolinjeverkt\xf8y som ",(0,r.kt)("inlineCode",{parentName:"p"},"gcloud"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"bq")," og ",(0,r.kt)("inlineCode",{parentName:"p"},"gsutil"),"."),(0,r.kt)("h2",{id:"hvordan-sette-opp-gcloud"},"Hvordan sette opp ",(0,r.kt)("inlineCode",{parentName:"h2"},"gcloud")),(0,r.kt)("p",null,"I de fleste tilfeller kan ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.google.com/sdk/docs/install"},"Googles egen oppskrift")," f\xf8lges for \xe5 installere Google Cloud SDK."),(0,r.kt)("h2",{id:"hvordan-sette-opp-gcloud-med-wsl-i-vdi"},"Hvordan sette opp ",(0,r.kt)("inlineCode",{parentName:"h2"},"gcloud")," med WSL i VDI"),(0,r.kt)("p",null,"For \xe5 installere Google Cloud SDK med WSL p\xe5 VDI kreves noen ekstra steg:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\xc5pne en WSL terminal med Ubuntu.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Installer avhengigheter n\xf8dvendig for \xe5 verifisere Googles public key."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install apt-transport-https ca-certificates gnupg\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Legg til en ",(0,r.kt)("inlineCode",{parentName:"p"},"apt")," kilde for Google Cloud SDK."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'echo "deb [signed-by=/usr/share/keyrings/cloud.google.gpg] [https://packages.cloud.google.com/apt](https://packages.cloud.google.com/apt) cloud-sdk main"\\\n | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Fortell ",(0,r.kt)("inlineCode",{parentName:"p"},"apt")," at du stoler p\xe5 Googles offentlige n\xf8kkel."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl [https://packages.cloud.google.com/apt/doc/apt-key.gpg](https://packages.cloud.google.com/apt/doc/apt-key.gpg)\\\n | sudo apt-key --keyring /usr/share/keyrings/cloud.google.gpg add -\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Hent oppdaterte pakkedefinisjoner fra pakkebr\xf8nnen, slik at ",(0,r.kt)("inlineCode",{parentName:"p"},"apt")," f\xe5r med seg pakkene fra kilden du la til i steg 3., og installer Google Cloud SDK."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get update && sudo apt-get install google-cloud-cli\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Fortell ",(0,r.kt)("inlineCode",{parentName:"p"},"gcloud")," kommandoen at du \xf8nsker \xe5 bruke Edge-browseren fra din Windows-installasjon for innlogging i neste steg."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"export BROWSER=/mnt/c/Program\\ Files\\ \\(x86\\)/Microsoft/Edge/Application/msedge.exe\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Logg inn med din vegvesen-bruker p\xe5 GCP."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud auth login\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Sett et prosjekt som blir valgt for kommandoer der du ikke spesifiserer prosjekt. Kommandoen under viser hvordan du velger ",(0,r.kt)("inlineCode",{parentName:"p"},"saga-veglogg-prod-wznf")," som default prosjekt."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud config set project saga-veglogg-prod-wznf\n")))),(0,r.kt)("p",null,"Du er n\xe5 klar til \xe5 bruke ",(0,r.kt)("inlineCode",{parentName:"p"},"gcloud")," verkt\xf8yet og resten av Google Cloud SDK fra din Ubuntu WSL terminal! \u2611\ufe0f"),(0,r.kt)("h2",{id:"eksempel-p\xe5-bruk-av-google-cloud-sdk-kommandolinjeverkt\xf8y"},"Eksempel p\xe5 bruk av Google Cloud SDK kommandolinjeverkt\xf8y"),(0,r.kt)("p",null,"Et kjekt verkt\xf8y som f\xf8lger med Google Cloud SDK er ",(0,r.kt)("inlineCode",{parentName:"p"},"gsutil"),". Dette kan f.eks. brukes til \xe5 liste ut filer, samt laste de opp og ned fra GCS. F\xf8lgende kommando lister ut r\xe5datafilene for Datex II 3.1 publikasjoner som Saga har prosessert fra Vegloggen/HBT."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gsutil ls gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Output:\n# gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/2019_10/\n# gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/2020_01/\n# gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/2020_03/\n# gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/2020_04/\n# gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/2022_03/\n# gs://saga-veglogg-prod-wznf-processed-publications/datex3-situations/2022_04/\n")))}c.isMDXComponent=!0}}]);